/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as s,jsxs as p}from"@dropins/tools/preact-jsx-runtime.js";import{useState as y,useEffect as c}from"@dropins/tools/preact-compat.js";import{classes as u}from"@dropins/tools/lib.js";import{Skeleton as h,SkeletonRow as f}from"@dropins/tools/components.js";import{useText as _}from"@dropins/tools/i18n.js";import{events as g}from"@dropins/tools/event-bus.js";const q=({className:t,shippingAddress:e,loading:r,noAddressMessage:n,...d})=>{const o=_({noAddress:"NegotiableQuote.Manage.shippingAddress.noAddress"});return r?s(N,{}):e?p("div",{className:u(["quote-management-shipping-address-display",t]),"data-testid":"shipping-address-display",...d,children:[s("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-name",children:p("span",{className:"quote-management-shipping-address-display__name",children:[e.firstname," ",e.lastname]})}),e.company&&s("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-company",children:e.company}),e.street.map((i,a)=>s("div",{className:"quote-management-shipping-address-display__field","data-testid":`address-street-${a}`,children:i},a)),p("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-city-region",children:[e.city,e.region&&`, ${e.region.label}`," ",e.postcode]}),s("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-country",children:e.country.label}),s("div",{className:"quote-management-shipping-address-display__field","data-testid":"address-telephone",children:e.telephone})]}):s("div",{className:u(["quote-management-shipping-address-display","quote-management-shipping-address-display--empty",t]),"data-testid":"shipping-address-display-empty",...d,children:s("p",{className:"quote-management-shipping-address-display__no-address",children:n||o.noAddress})})},N=()=>s(h,{"data-testid":"shipping-address-display-skeleton",children:s(f,{variant:"row",fullWidth:!0,size:"small",lines:5,multilineGap:"xsmall"})}),j=({quoteData:t,loading:e,...r})=>{var i;const[n,d]=y(t);c(()=>{t!==void 0&&d(t)},[t]),c(()=>{const a=g.on("quote-management/quote-data",l=>{const{quote:m}=l;d(m)},{eager:!0});return()=>a==null?void 0:a.off()},[]),c(()=>{const a=g.on("quote-management/shipping-address-set",l=>{const{quote:m}=l;d(m)},{eager:!0});return()=>a==null?void 0:a.off()},[]);const o=(i=n==null?void 0:n.shippingAddresses)==null?void 0:i[0];return s(q,{shippingAddress:o,loading:e,...r})};export{j as S};
//# sourceMappingURL=ShippingAddressDisplay.js.map
