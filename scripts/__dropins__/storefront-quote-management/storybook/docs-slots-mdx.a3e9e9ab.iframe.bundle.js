"use strict";(self.webpackChunk_dropins_storefront_quote_management=self.webpackChunk_dropins_storefront_quote_management||[]).push([[4528],{"./node_modules/@adobe-commerce/elsie/src/docs/slots.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs"),_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FK,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.W8,{title:"Utilities/Slots"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.di,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h1,{id:"slots",children:"Slots"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"A Slot is a high-level interface for developers to define and manage dynamic content insertion within drop-in components."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h2,{id:"context",children:"Context"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The context is defined during implementation of a drop-in and can be used to pass data and functions to the slot."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"pre-built-methods",children:"Pre-built Methods"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"dictionary"}),": The dictionary of the selected language."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"replaceWith"}),": A function to replace the slot's content with a new HTML element."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"appendChild"}),": A function to append a new HTML element to the slot's content."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"prependChild"}),": A function to prepend a new HTML element to the slot's content."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"appendSibling"}),": A function to append a new HTML element after the slot's content."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"prependSibling"}),": A function to prepend a new HTML element ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"before"})," the slot's content."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"remove"}),": A function to remove the slot element from the DOM."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"getSlotElement"}),": A function to get a slot element."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.strong,{children:"onChange"}),": A function to listen to changes in the slot's context."]}),"\n"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.hr,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h2,{id:"implementing-a-new-slot",children:"Implementing a new slot"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"<Slot />"})," component is used to define a slot in a container. It receives a name and a slot object with the following properties:"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"name",children:"name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The name of the slot in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.em,{children:"PascalCase"}),". ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"string"})," (required)."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"lazy",children:"lazy"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["Controls whether the slot should be loaded immediately or deferred for later initialization. ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"boolean"})," (optional)."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["When ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"lazy={false}"}),", the slot is initialized as soon as the container mounts. When ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"lazy={true}"}),", the slot can be initialized later on when it is needed. This is useful for performance optimization, especially when the slot's content is not immediately required."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"slottag",children:"slotTag"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The HTML tag to use for the slot's wrapper element. This allows you to change the wrapper element from the default ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"div"})," to any valid HTML tag (e.g., 'span', 'p', 'a', etc.). When using specific tags like 'a', you can also provide their respective HTML attributes (e.g., 'href', 'target', etc.)."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"Example:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-tsx",children:'// Render with a span wrapper\n<Slot name="MySlot" slotTag="span">\n  Inline content\n</Slot>\n\n// Render with an anchor wrapper\n<Slot name="MySlot" slotTag="a" href="https://example.com" target="_blank">\n  Link content\n</Slot>\n'})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"contenttag",children:"contentTag"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The HTML tag to use for wrapping dynamically inserted content within the slot. This is separate from the slot's wrapper tag and allows you to control how dynamic content is structured. Defaults to 'div'."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"Example:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-tsx",children:'<Slot\n  name="MySlot"\n  slotTag="article"    // The outer wrapper will be an article\n  contentTag="section" // Dynamic content will be wrapped in sections\n  slot={(ctx) => {\n    const elem = document.createElement(\'div\');\n    elem.innerHTML = \'Dynamic content\';\n    ctx.appendChild(elem); // This will be wrapped in a section tag\n  }}\n/>\n'})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"slot-required",children:"slot (required)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"ctx"}),": An object representing the context of the slot, including methods for manipulating the slot's content."]}),"\n"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The slot property, which is implemented as a promise function, provides developers with the flexibility to dynamically generate and manipulate content within slots.\nHowever, it's important to note that this promise is render-blocking, meaning that the component will not render until the promise is resolved."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"context-1",children:"context"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The context property in the Slot component lets developers pass extra information or functionality to customize how the slot\nbehaves or interacts with the application. This information is accessible within the slot's rendering logic, allowing for\ntailored slot behavior based on specific needs or application states."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"render",children:"render"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The render property in the Slot component lets developers define how the content within the slot should be displayed and should be used when developers\nneed fine-grained control over what content appears within the slot.\nIt's particularly useful when using custom slot methods (see Privates below) in scenarios where the content to be displayed within the slot is dynamic and may depend on\nproperties passed to another component."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"children",children:"children"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The children property in the Slot component represents the content that is passed directly within the opening and closing tags of the Slot component.\nIt allows developers to include static content directly within the slot, which will be rendered as part of the slot's contents.\nThis property is useful for cases where the content within the slot is static or does not need to be dynamically generated by the slot."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-tsx",children:"// MyContainer.tsx (Drop-in)\n\nimport { HTMLAttributes } from 'preact/compat';\nimport { Container, Slot, SlotProps } from '@adobe-commerce/elsie/lib';\n\nexport interface MyContainerProps extends HTMLAttributes<HTMLDivElement> {\n  slots?: {\n    MyOpenSlot?: SlotProps<{\n      // MyOpenSlot Context\n      data: MyContainerData;\n    }>;\n  };\n}\n\nexport const MyContainer: Container<MyContainerProps> = ({\n  slots,\n  children,\n  ...props\n}) => {\n  // ...\n\n  return (\n    <div {...props}>\n      <Slot name=\"MyOpenSlot\" slot={slots?.MyOpenSlot} context={{ data }} />\n    </div>\n  );\n};\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:" "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// blocks/my-block.js (storefront)\n\nprovider.render(MyContainer, {\n  slots: {\n    MyOpenSlot: async (ctx) => {\n      // create a new HTML element\n      const element = document.createElement('div');\n      // set the innerHTML of the new element to the text from the context's data\n      element.innerHTML = ctx.data.text;\n\n      // append the new element to the slot's content\n      ctx.appendChild(element);\n\n      // ...or you could also use any of the other slot methods to manipulate the slot's content\n      // ctx.replaceWith(element);\n      // ctx.prependChild(element);\n      // ctx.appendSibling(element);\n      // ctx.prependSibling(element);\n      // ctx.remove();\n\n      // to listen and react to changes in the slot's context (lifecycle)\n      ctx.onChange((next) => {\n        // update the innerHTML of the new element to the new text from the context's data\n        element.innerHTML = ctx.data.text;\n      });\n    },\n  },\n});\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h2,{id:"privates",children:"Privates"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"<Slot />"})," component has a private interface that serves as a mechanism for managing internal\ncomplexity and promoting clean, modular design within the Slot component or related components."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"_registermethod",children:"_registerMethod"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"_registerMethod"})," private function is used to register a method in the slot's context which is particularly helpful in scenarios\nwhere dynamic behavior or interactions need to be incorporated into the Slot component."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"Slot Methods also include the ability to modify the slot's state or content based on external interactions or changes in application state."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"_setprops",children:"_setProps"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"_setProps"})," private function within the Slot component is responsible for dynamically updating the properties of the slot.\nIt allows developers to modify the slot's state or content based on external interactions or changes in application state,\ntriggering re-renders of the slot component with updated properties."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"_htmlelementtovnode",children:"_htmlElementToVNode"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"_htmlElementToVNode"})," private function in the Slot component converts HTML elements into virtual DOM nodes (VNodes),\nenabling their integration into Preact components. This conversion facilitates the dynamic insertion of HTML content\ninto slots while benefiting from Preact's virtual DOM reconciliation and rendering."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-tsx",children:"// MyContainer.tsx (Drop-in)\n\n<Slot\n  name=\"MyOpenSlot\"\n  slot={slots?.MyOpenSlot}\n  context={{\n    // custom slot method\n    appendButton(callback) {\n      // use _registerMethod to register a method in the slot's context\n      this._registerMethod((...attrs) => {\n        // callback return the values provided by the storefront developer\n        const { text, ...buttonProps } = callback(...attrs);\n\n        const button = (\n          <Button type=\"button\" {...buttonProps}>\n            {text}\n          </Button>\n        );\n\n        // use _setProps to update the slot's properties\n        this._setProps((prev: any) => ({\n          children: [...(prev.children || []), button],\n        }));\n      });\n    },\n  }}\n  render={(props) => {\n    // render the slot's content using props mutated by the slot's methods\n    return <Buttons>{props.children}</Buttons>;\n  }}\n/>\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:" "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// blocks/my-block.js (storefront)\n\nprovider.render(MyContainer, {\n  slots: {\n    // Available Slots\n    MyOpenSlot: (ctx) => {\n      ctx.appendButton: (next, state) => {\n        // use state to get the current state of the slot\n        const loading = state.get('loading');\n\n        return {\n          text: loading ? 'Loading' : 'Click me!',\n          onClick: async () => {\n            // use state to update the state of the slot\n            state.set('loading', true);\n\n            await doSomething().finally(() => {\n              state.set('loading', false);\n            });\n          },\n        };\n      },\n    },\n  },\n});\n"})})]})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>useMDXComponents,x:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.default.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.default.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.default.useMemo(function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}},[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(MDXContext.Provider,{value:allComponents},properties.children)}}}]);