"use strict";(self.webpackChunk_dropins_storefront_quote_management=self.webpackChunk_dropins_storefront_quote_management||[]).push([[2492],{"./node_modules/@adobe-commerce/elsie/src/docs/API/render.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/preact/compat/jsx-runtime.mjs"),_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs");function _createMdxContent(props){const _components={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FK,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.W8,{title:"API/Render"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.di,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h1,{id:"render",children:"Render"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h2,{id:"implementing-a-new-render-in-your-dropin",children:"Implementing a new render in your dropin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["To implement a new render in your dropin, you must create an instance of the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"Render"})," class from the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"@adobe-commerce/elsie/lib"})," library, passing in a ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"Provider"})," component.\nThis setup initializes the rendering context with the specified provider, which can manage state, context, or other dependencies required by your components.\nBy exporting this ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"render"})," instance, you enable different parts of your application to render components within the defined context, ensuring consistent behavior and integration across your application."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-ts",children:"// Dropin\n\nimport { Render } from '@adobe-commerce/elsie/lib';\nimport { Provider } from './Provider';\n\nexport const render = new Render(<Provider />);\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h2,{id:"rendering-a-dropins-container-in-a-storefront",children:"Rendering a dropin's container in a storefront"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"The render function mounts a drop-in container or component into the DOM and manages its lifecycle.\nIt returns a Promise that resolves to an object containing methods for updating and removing the component instance."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// Storefront\nimport { render as provider } from 'my-domain-pkg/render.js';\nimport { MyContainer } from 'my-domain-pkg/containers/MyContainer.js';\n\nconst wrapper = document.getElementById('my-container-root');\n\nprovider.render(MyContainer, { ...props })(wrapper);\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"using-vnode-as-a-property",children:"Using VNode as a property"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"Some components may require VNodes as properties. If you are using another component from the library, provide the VNode by executing the component as a function."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// Storefront\n\nimport { Button, Icon, provider } from '@dropins/tools/components.js';\n\nconst wrapper = document.getElementById('my-container-root');\n\nprovider.render(Button, { \n    children: 'My Button', \n    icon: Icon({ source: 'Heart' }), \n})(wrapper);\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["You may also create your VNode using the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"h"})," function from the Preact library."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// Storefront\n\nimport { Button, provider } from '@dropins/tools/components.js';\nimport { h } from '@dropins/tools/preact.js';\n\nconst wrapper = document.getElementById('my-container-root');\n\nprovider.render(Button, { icon: h('div', { id: 'my-vnode' }) })(wrapper);\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"update-properties-of-a-rendered-component",children:"Update properties of a rendered component"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"setProps"})," method is provided by the instance returned from the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"render"})," function.\nIt allows for dynamic updates to the properties of a rendered component.\nBy accepting an updater function, ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"setProps"})," lets you modify the component's props based on its previous state.\nThis method is particularly useful for making incremental changes or responding to user interactions\nwithout re-rendering the entire component. It ensures that the component's state remains consistent\nand up-to-date with the latest data or user inputs."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h4,{id:"example",children:"Example"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// Storefront\n\nimport { render as provider } from 'my-domain-pkg/render.js';\nimport { MyContainer } from 'my-domain-pkg/containers/MyContainer.js';\n\nconst wrapper = document.getElementById('my-container-root');\nconst myContainer = await provider.render(MyContainer, { ...props })(wrapper);\n\nconst button = document.getElementById('my-button');\n\nbutton.addEventListener('click', () => {\n    // Update the component's props\n    myContainer.setProps((prevProps) => ({\n    ...prevProps,\n    newProp: 'new value',\n    }));\n});\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"remove-a-rendered-component-from-the-dom",children:"Remove a rendered component from the DOM"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"remove"})," method is provided by the instance returned from the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"render"})," function.\nIt allows for the complete removal of a rendered component from the DOM.\nWhen invoked, ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"remove"})," ensures that the component and its associated resources are properly cleaned up,\npreventing memory leaks and maintaining the application's overall performance.\nThis method is essential for managing the lifecycle of dynamic components,\nespecially in applications where components need to be frequently added and removed based\non user interactions or other events."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"import { render as provider } from 'my-domain-pkg/render.js';\nimport { MyContainer } from 'my-domain-pkg/containers/MyContainer.js';\n\nconst wrapper = document.getElementById('my-container-root');\nconst myContainer = await provider.render(MyContainer, { ...props })(wrapper);\n\nconst button = document.getElementById('my-button');\n\nbutton.addEventListener('click', () => {\n    // Remove the component from the DOM\n    myContainer.remove();\n});\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h3,{id:"unmounting-components-without-instance-access",children:"Unmounting components without instance access"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{children:"Render.unmount"})," static method provides a way to unmount components from the DOM when you don't have direct access to the component instance.\nThis is particularly useful in scenarios where components are rendered inside modals, dialogs, or other temporary containers that need to be cleaned up."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.h4,{id:"example-1",children:"Example"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.code,{className:"language-js",children:"// Close the dialog\ndialog.close();\n\n// Unmount any dropin containers rendered in the modal\ndialog.querySelectorAll('[data-dropin-container]').forEach(Render.unmount);\n"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components.p,{children:"This approach ensures that all dropin components are properly cleaned up when their container elements are removed from the DOM, preventing memory leaks and maintaining application performance."})]})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_Users_oeur_Desktop_Projects_public_storefront_quote_management_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>useMDXComponents,x:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/preact/compat/dist/compat.module.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.default.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.default.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.default.useMemo(function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}},[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(MDXContext.Provider,{value:allComponents},properties.children)}}}]);