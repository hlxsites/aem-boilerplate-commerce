/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as r,jsxs as o}from"@dropins/tools/preact-jsx-runtime.js";import{Fragment as T}from"@dropins/tools/preact.js";import{classes as c,VComponent as b}from"@dropins/tools/lib.js";import{Button as A,Icon as $,Skeleton as u,SkeletonRow as x}from"@dropins/tools/components.js";import{useText as C}from"@dropins/tools/i18n.js";const U=({className:p,children:R,columns:s=[],rowData:y=[],mobileLayout:h="none",caption:n,expandedRows:f=new Set,loading:B=!1,skeletonRowCount:N=10,onSortChange:_,...g})=>{const d=C({sortedAscending:"Dropin.Table.sortedAscending",sortedDescending:"Dropin.Table.sortedDescending",sortBy:"Dropin.Table.sortBy"}),D=e=>{if(!_)return;let t;e.sortBy===!0?t="asc":e.sortBy==="asc"?t="desc":t=!0,_(e.key,t)},m=e=>{if(e.sortBy===void 0)return null;let t,a;return e.sortBy==="asc"?(t="ChevronUp",a=d.sortedAscending.replace("{label}",e.label)):e.sortBy==="desc"?(t="ChevronDown",a=d.sortedDescending.replace("{label}",e.label)):(t="Sort",a=d.sortBy.replace("{label}",e.label)),r(A,{variant:"tertiary",size:"medium",className:"dropin-table__header__sort-button",icon:r($,{source:t}),"aria-label":a,onClick:()=>D(e)})},k=()=>Array.from({length:N},(e,t)=>r("tr",{className:"dropin-table__body__row",children:s.map(a=>r("td",{className:"dropin-table__body__cell","data-label":a.label,children:r(u,{children:r(x,{variant:"row",size:"small",fullWidth:!0})})},a.key))},`skeleton-${t}`)),w=()=>y.map((e,t)=>{const a=e._rowDetails!==void 0,S=f.has(t);return o(T,{children:[r("tr",{className:"dropin-table__body__row",children:s.map(l=>{const i=e[l.key];return typeof i=="string"||typeof i=="number"?r("td",{className:"dropin-table__body__cell","data-label":l.label,children:i},l.key):r("td",{className:"dropin-table__body__cell","data-label":l.label,children:r(b,{node:i})},l.key)})}),a&&S&&r("tr",{className:"dropin-table__row-details dropin-table__row-details--expanded",id:`row-${t}-details`,children:r("td",{className:"dropin-table__row-details__cell",colSpan:s.length,role:"region","aria-labelledby":`row-${t}-details`,children:typeof e._rowDetails=="string"?e._rowDetails:r(b,{node:e._rowDetails})})},`${t}-details`)]},t)}),v=e=>{if(e.sortBy===!0)return"none";if(e.sortBy==="asc")return"ascending";if(e.sortBy==="desc")return"descending"};return r("div",{className:c(["dropin-table",`dropin-table--mobile-layout-${h}`,p]),children:o("table",{...g,className:"dropin-table__table",children:[n&&r("caption",{className:"dropin-table__caption",children:n}),r("thead",{className:"dropin-table__header",children:r("tr",{className:"dropin-table__header__row",children:s.map(e=>o("th",{className:c(["dropin-table__header__cell",["dropin-table__header__cell--sorted",e.sortBy==="asc"||e.sortBy==="desc"],["dropin-table__header__cell--sortable",e.sortBy!==void 0]]),"aria-sort":v(e),children:[e.label,m(e)]},e.key))})}),r("tbody",{className:"dropin-table__body",children:B?k():w()})]})})};export{U as T};
//# sourceMappingURL=Table.js.map
