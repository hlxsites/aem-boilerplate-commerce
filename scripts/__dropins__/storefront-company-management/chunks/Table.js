/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as r,jsxs as n}from"@dropins/tools/preact-jsx-runtime.js";import{Fragment as A}from"@dropins/tools/preact.js";import{classes as p,VComponent as y}from"@dropins/tools/lib.js";import{Button as $,Icon as u,Skeleton as L,SkeletonRow as x}from"@dropins/tools/components.js";import{useText as C}from"@dropins/tools/i18n.js";const V=({className:h,children:R,columns:i=[],rowData:f=[],mobileLayout:B="none",caption:_,expandedRows:N=new Set,loading:g=!1,skeletonRowCount:D=10,onSortChange:c,...m})=>{const d=C({sortedAscending:"Dropin.Table.sortedAscending",sortedDescending:"Dropin.Table.sortedDescending",sortBy:"Dropin.Table.sortBy"}),k=e=>{if(!c)return;let a;e.sortBy===!0?a="asc":e.sortBy==="asc"?a="desc":a=!0,c(e.key,a)},w=e=>{if(e.sortBy===void 0)return null;const a=e.ariaLabel??e.label;let t,l;return e.sortBy==="asc"?(t="ChevronUp",l=d.sortedAscending.replace("{label}",a)):e.sortBy==="desc"?(t="ChevronDown",l=d.sortedDescending.replace("{label}",a)):(t="Sort",l=d.sortBy.replace("{label}",a)),r($,{variant:"tertiary",size:"medium",className:"dropin-table__header__sort-button",icon:r(u,{source:t}),"aria-label":l,onClick:()=>k(e)})},v=()=>Array.from({length:D},(e,a)=>r("tr",{className:"dropin-table__body__row",children:i.map(t=>r("td",{className:"dropin-table__body__cell","data-label":t.ariaLabel??t.label,children:r(L,{children:r(x,{variant:"row",size:"small",fullWidth:!0})})},t.key))},`skeleton-${a}`)),S=()=>f.map((e,a)=>{const t=e._rowDetails!==void 0,l=N.has(a);return n(A,{children:[r("tr",{className:"dropin-table__body__row",children:i.map(s=>{const o=e[s.key],b=s.ariaLabel??s.label;return typeof o=="string"||typeof o=="number"?r("td",{className:"dropin-table__body__cell","data-label":b,children:o},s.key):r("td",{className:"dropin-table__body__cell","data-label":b,children:r(y,{node:o})},s.key)})}),t&&l&&r("tr",{className:"dropin-table__row-details dropin-table__row-details--expanded",id:`row-${a}-details`,children:r("td",{className:"dropin-table__row-details__cell",colSpan:i.length,role:"region","aria-labelledby":`row-${a}-details`,children:typeof e._rowDetails=="string"?e._rowDetails:r(y,{node:e._rowDetails})})},`${a}-details`)]},a)}),T=e=>{if(e.sortBy===!0)return"none";if(e.sortBy==="asc")return"ascending";if(e.sortBy==="desc")return"descending"};return r("div",{className:p(["dropin-table",`dropin-table--mobile-layout-${B}`,h]),children:n("table",{...m,className:"dropin-table__table",children:[_&&r("caption",{className:"dropin-table__caption",children:_}),r("thead",{className:"dropin-table__header",children:r("tr",{className:"dropin-table__header__row",children:i.map(e=>n("th",{className:p(["dropin-table__header__cell",["dropin-table__header__cell--sorted",e.sortBy==="asc"||e.sortBy==="desc"],["dropin-table__header__cell--sortable",e.sortBy!==void 0]]),"aria-sort":T(e),children:[e.label,w(e)]},e.key))})}),r("tbody",{className:"dropin-table__body",children:g?v():S()})]})})};export{V as T};
//# sourceMappingURL=Table.js.map
